<html>
    <head>
        
    </head>
    <body>
        <button id='rockBtn'>Rock</button>
        <button id='paperBtn'>Paper</button>
        <button id='scissorsBtn'>Scissors</button>
        <div id='round'></div>
        <div id='scores'></div>
        <div id='results'></div>

        <script>
            var pScore = 0
            var cScore = 0
            var rCount = 0
            
            const writeResults = document.querySelector('#results')
            const scoresGoHere = document.querySelector('#scores')

            pCounter = document.createElement('div')
            pCounter.classList.add('pScoreCounter')
            pCounter.textContent = 'Player score: ' + pScore
            scoresGoHere.appendChild(pCounter);

            cCounter = document.createElement('div')
            cCounter.classList.add('pScoreCounter')
            cCounter.textContent = 'Computer score: ' + cScore
            scoresGoHere.appendChild(cCounter);

            rCounter = document.querySelector('#round')
            rCounter.textContent = 'Round: ' + rCount

            function computerPlay(){
                const answers = ['Rock','Paper','Scissors']
                var computerResult = answers[Math.floor(Math.random() * answers.length)];
                return computerResult;
            }

            function playRound(computerResult,playerResult){

                if(pScore == 5 || cScore == 5){
                    pScore = 0
                    cScore = 0
                    rCount = 0
                }
        
                var compChoose = computerResult.toLowerCase()
                var playerChoose = playerResult.toLowerCase()

                if((playerChoose == 'rock' && compChoose == 'scissors') || (playerChoose == 'paper' && compChoose == 'rock') || ( playerChoose == 'scissors' && compChoose == 'paper' )){
                    writeResults.textContent = 'You win! ' + playerResult + ' beats ' + computerResult
                    pScore++
                }
                else if((compChoose == 'rock' && playerChoose == 'scissors') || (compChoose == 'paper' && playerChoose == 'rock') || ( compChoose == 'scissors' && playerChoose == 'paper' )){
                    writeResults.textContent = 'Computer wins! ' + computerResult + ' beats ' + playerResult
                    cScore++
                }
                else if(compChoose == playerChoose){
                    writeResults.textContent = 'Tie! ' + playerResult + ' and ' + computerResult
                }
                pCounter.textContent = 'Player score: ' + pScore
                cCounter.textContent = 'Computer score: ' + cScore
                rCount++
                rCounter.textContent = 'Round: ' + rCount

                if(pScore == 5){
                    writeResults.textContent = 'You win!'
                }
                else if(cScore == 5){
                    writeResults.textContent = 'You lose!'
                }

            }

            document.getElementById('rockBtn').addEventListener("click", function(){
                playRound(computerPlay(),'rock');
            })

            document.getElementById('paperBtn').addEventListener("click", function(){
                playRound(computerPlay(),'paper');
            })

            document.getElementById('scissorsBtn').addEventListener("click", function(){
                playRound(computerPlay(),'scissors');
            })

            /*function game(){
                var roundCount = 0
                var playerScore = 0
                var cpuScore = 0
                while( roundCount < 5 ){
                    var pick = prompt('Rock, paper, scissors?')
                    var round = playRound(computerPlay(),pick)

                    if(round == 'tie'){
                    }

                    else if (round == 'cpuwin'){
                        cpuScore = cpuScore + 1
                        roundCount = roundCount + 1
                    }

                    else if (round == 'playerwin'){
                        playerScore = playerScore + 1
                        roundCount = roundCount + 1
                    }

                    else{
                        console.log('I dont know what to do')
                    }

                }
                if(playerScore > cpuScore){
                    return 'You win ' + playerScore + ' to ' + cpuScore
                }
                else{
                    return 'You lose ' + cpuScore + ' to ' + playerScore
                }
                
            }*/

        </script>
    </body>
</html>